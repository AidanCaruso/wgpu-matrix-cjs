/* unzipit@1.0.0, license MIT */
(function(H,W){"object"===typeof exports&&"undefined"!==typeof module?W(exports):"function"===typeof define&&define.amd?define(["exports"],W):(H="undefined"!==typeof globalThis?globalThis:H||self,W(H.wgpuMatrix={}))})(this,function(H){function W(a){const b=x;x=a;return b}function X(a=0,b=0){const c=new x(2);void 0!==a&&(c[0]=a,void 0!==b&&(c[1]=b));return c}function ma(a,b,c){c=c||new x(2);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c}function na(a,b,c){c=c||new x(2);c[0]=a[0]*b;c[1]=a[1]*b;return c}function oa(a,
b){b=b||new x(2);b[0]=1/a[0];b[1]=1/a[1];return b}function pa(a,b){return a[0]*b[0]+a[1]*b[1]}function qa(a){const b=a[0];a=a[1];return Math.sqrt(b*b+a*a)}function ra(a){const b=a[0];a=a[1];return b*b+a*a}function sa(a,b){const c=a[0]-b[0];a=a[1]-b[1];return Math.sqrt(c*c+a*a)}function ta(a,b){const c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a}function ua(a,b){b=b||new x(2);b[0]=a[0];b[1]=a[1];return b}function va(a,b,c){c=c||new x(2);c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c}function wa(a,b,c){c=c||new x(2);
c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c}function xa(a){const b=ya;ya=a;E=za.get(a);return b}function ia(a,b){b=b||E();b[0]=a[0];b[1]=a[1];b[2]=a[2];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[8]=a[8];b[9]=a[9];b[10]=a[10];return b}function Aa(a){a=a||E();a[0]=1;a[1]=0;a[2]=0;a[4]=0;a[5]=1;a[6]=0;a[8]=0;a[9]=0;a[10]=1;return a}function Ba(a,b){b=b||E();const c=a[0],d=a[1],e=a[2],g=a[4],f=a[5],k=a[6],l=a[8],h=a[9];a=a[10];const n=f*a,m=h*k,q=d*a,v=h*e,t=d*k,r=f*e,p=1/(c*(n-m)-g*(q-v)+l*(t-r));b[0]=+(n-m)*p;b[1]=
-(g*a-l*k)*p;b[2]=+(g*h-l*f)*p;b[4]=-(q-v)*p;b[5]=+(c*a-l*e)*p;b[6]=-(c*h-l*d)*p;b[8]=+(t-r)*p;b[9]=-(c*k-g*e)*p;b[10]=+(c*f-g*d)*p;return b}function Ca(a,b,c){c=c||E();const d=a[0],e=a[1],g=a[2],f=a[4],k=a[5],l=a[6],h=a[8],n=a[9];a=a[10];const m=b[0],q=b[1],v=b[2],t=b[4],r=b[5],p=b[6],A=b[8],B=b[9];b=b[10];c[0]=d*m+f*q+h*v;c[1]=e*m+k*q+n*v;c[2]=g*m+l*q+a*v;c[4]=d*t+f*r+h*p;c[5]=e*t+k*r+n*p;c[6]=g*t+l*r+a*p;c[8]=d*A+f*B+h*b;c[9]=e*A+k*B+n*b;c[10]=g*A+l*B+a*b;return c}function Da(a){const b=w;w=a;
return b}function T(a,b,c){const d=new w(3);void 0!==a&&(d[0]=a,void 0!==b&&(d[1]=b,void 0!==c&&(d[2]=c)));return d}function ja(a,b,c){c=c||new w(3);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c}function Ea(a,b,c){c=c||new w(3);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c}function Fa(a,b){b=b||new w(3);b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];return b}function ka(a,b,c){c=c||new w(3);const d=a[2]*b[0]-a[0]*b[2],e=a[0]*b[1]-a[1]*b[0];c[0]=a[1]*b[2]-a[2]*b[1];c[1]=d;c[2]=e;return c}function Ga(a,
b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function Ha(a){const b=a[0],c=a[1];a=a[2];return Math.sqrt(b*b+c*c+a*a)}function Ia(a){const b=a[0],c=a[1];a=a[2];return b*b+c*c+a*a}function Ja(a,b){const c=a[0]-b[0],d=a[1]-b[1];a=a[2]-b[2];return Math.sqrt(c*c+d*d+a*a)}function Ka(a,b){const c=a[0]-b[0],d=a[1]-b[1];a=a[2]-b[2];return c*c+d*d+a*a}function Y(a,b){b=b||new w(3);const c=a[0],d=a[1];a=a[2];const e=Math.sqrt(c*c+d*d+a*a);1E-5<e?(b[0]=c/e,b[1]=d/e,b[2]=a/e):(b[0]=0,b[1]=0,b[2]=0);return b}function La(a,
b){b=b||new w(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b}function Ma(a,b,c){c=c||new w(3);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c}function Na(a,b,c){c=c||new w(3);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];return c}function Oa(a){const b=y;y=a;return b}function la(a,b){b=b||new y(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b}function Pa(a){a=a||
new y(16);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Qa(a,b){b=b||new y(16);const c=a[0];var d=a[1];const e=a[2],g=a[3],f=a[4];var k=a[5];const l=a[6],h=a[7],n=a[8],m=a[9],q=a[10],v=a[11],t=a[12];var r=a[13];const p=a[14];a=a[15];const A=q*a,B=p*v,C=l*a,D=p*h,F=l*v,G=q*h,I=e*a,J=p*g,K=e*v,L=q*g,M=e*h,N=l*g,O=n*r,P=t*m,Q=f*r,R=t*k,Z=f*m,aa=n*k,ba=c*r,ca=t*d,da=c*m,ea=n*d,fa=c*k,ha=f*d,Ra=A*k+D*m+F*r-(B*k+C*
m+G*r),Sa=B*d+I*m+L*r-(A*d+J*m+K*r);r=C*d+J*k+M*r-(D*d+I*k+N*r);d=G*d+K*k+N*m-(F*d+L*k+M*m);k=1/(c*Ra+f*Sa+n*r+t*d);b[0]=k*Ra;b[1]=k*Sa;b[2]=k*r;b[3]=k*d;b[4]=k*(B*f+C*n+G*t-(A*f+D*n+F*t));b[5]=k*(A*c+J*n+K*t-(B*c+I*n+L*t));b[6]=k*(D*c+I*f+N*t-(C*c+J*f+M*t));b[7]=k*(F*c+L*f+M*n-(G*c+K*f+N*n));b[8]=k*(O*h+R*v+Z*a-(P*h+Q*v+aa*a));b[9]=k*(P*g+ba*v+ea*a-(O*g+ca*v+da*a));b[10]=k*(Q*g+ca*h+fa*a-(R*g+ba*h+ha*a));b[11]=k*(aa*g+da*h+ha*v-(Z*g+ea*h+fa*v));b[12]=k*(Q*q+aa*p+P*l-(Z*p+O*l+R*q));b[13]=k*(da*p+
O*e+ca*q-(ba*q+ea*p+P*e));b[14]=k*(ba*l+ha*p+R*e-(fa*p+Q*e+ca*l));b[15]=k*(fa*q+Z*e+ea*l-(da*l+ha*q+aa*e));return b}function Ta(a,b,c){c=c||new y(16);const d=a[0],e=a[1],g=a[2],f=a[3],k=a[4],l=a[5],h=a[6],n=a[7],m=a[8],q=a[9],v=a[10],t=a[11],r=a[12],p=a[13],A=a[14];a=a[15];const B=b[0],C=b[1],D=b[2],F=b[3],G=b[4],I=b[5],J=b[6],K=b[7],L=b[8],M=b[9],N=b[10],O=b[11],P=b[12],Q=b[13],R=b[14];b=b[15];c[0]=d*B+k*C+m*D+r*F;c[1]=e*B+l*C+q*D+p*F;c[2]=g*B+h*C+v*D+A*F;c[3]=f*B+n*C+t*D+a*F;c[4]=d*G+k*I+m*J+r*
K;c[5]=e*G+l*I+q*J+p*K;c[6]=g*G+h*I+v*J+A*K;c[7]=f*G+n*I+t*J+a*K;c[8]=d*L+k*M+m*N+r*O;c[9]=e*L+l*M+q*N+p*O;c[10]=g*L+h*M+v*N+A*O;c[11]=f*L+n*M+t*N+a*O;c[12]=d*P+k*Q+m*R+r*b;c[13]=e*P+l*Q+q*R+p*b;c[14]=g*P+h*Q+v*R+A*b;c[15]=f*P+n*Q+t*R+a*b;return c}function Ua(a,b,c){c=c||new y(16);let d=a[0],e=a[1];a=a[2];var g=Math.sqrt(d*d+e*e+a*a);d/=g;e/=g;a/=g;g=d*d;const f=e*e,k=a*a,l=Math.cos(b);b=Math.sin(b);const h=1-l;c[0]=g+(1-g)*l;c[1]=d*e*h+a*b;c[2]=d*a*h-e*b;c[3]=0;c[4]=d*e*h-a*b;c[5]=f+(1-f)*l;c[6]=
e*a*h+d*b;c[7]=0;c[8]=d*a*h+e*b;c[9]=e*a*h-d*b;c[10]=k+(1-k)*l;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return c}function Va(a,b,c,d){d=d||new y(16);var e=b[0],g=b[1],f=b[2];b=Math.sqrt(e*e+g*g+f*f);e/=b;g/=b;f/=b;b=e*e;var k=g*g,l=f*f,h=Math.cos(c),n=Math.sin(c),m=1-h;c=b+(1-b)*h;b=e*g*m+f*n;const q=e*f*m-g*n,v=e*g*m-f*n;k+=(1-k)*h;const t=g*f*m+e*n,r=e*f*m+g*n;e=g*f*m-e*n;g=l+(1-l)*h;f=a[0];l=a[1];h=a[2];n=a[3];m=a[4];const p=a[5],A=a[6],B=a[7],C=a[8],D=a[9],F=a[10],G=a[11];d[0]=c*f+b*m+q*C;d[1]=
c*l+b*p+q*D;d[2]=c*h+b*A+q*F;d[3]=c*n+b*B+q*G;d[4]=v*f+k*m+t*C;d[5]=v*l+k*p+t*D;d[6]=v*h+k*A+t*F;d[7]=v*n+k*B+t*G;d[8]=r*f+e*m+g*C;d[9]=r*l+e*p+g*D;d[10]=r*h+e*A+g*F;d[11]=r*n+e*B+g*G;a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]);return d}function Wa(a){const b=z;z=a;return b}function Xa(a,b,c,d){const e=new z(4);void 0!==a&&(e[0]=a,void 0!==b&&(e[1]=b,void 0!==c&&(e[2]=c,void 0!==d&&(e[3]=d))));return e}function Ya(a,b,c){c=c||new z(4);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=
a[3]-b[3];return c}function Za(a,b,c){c=c||new z(4);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c}function $a(a,b){b=b||new z(4);b[0]=1/a[0];b[1]=1/a[1];b[2]=1/a[2];b[3]=1/a[3];return b}function ab(a){const b=a[0],c=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+c*c+d*d+a*a)}function bb(a){const b=a[0],c=a[1],d=a[2];a=a[3];return b*b+c*c+d*d+a*a}function cb(a,b){const c=a[0]-b[0],d=a[1]-b[1],e=a[2]-b[2];a=a[3]-b[3];return Math.sqrt(c*c+d*d+e*e+a*a)}function db(a,b){const c=a[0]-b[0],d=a[1]-b[1],
e=a[2]-b[2];a=a[3]-b[3];return c*c+d*d+e*e+a*a}function eb(a,b){b=b||new z(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b}function fb(a,b,c){c=c||new z(4);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];c[3]=a[3]*b[3];return c}function gb(a,b,c){c=c||new z(4);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c}var hb=Object.freeze({__proto__:null});let u=1E-6;var ib=Object.freeze({__proto__:null,get EPSILON(){return u},setEpsilon:function(a){const b=u;u=a;return b},degToRad:function(a){return a*
Math.PI/180},radToDeg:function(a){return 180*a/Math.PI},lerp:function(a,b,c){return a+(b-a)*c},inverseLerp:function(a,b,c){return Math.abs(b-a)<u?a:(c-a)/(b-a)},euclideanModulo:function(a,b){return(a%b+b)%b}});let x=Float32Array;var jb=Object.freeze({__proto__:null,create:X,setDefaultType:W,fromValues:X,ceil:function(a,b){b=b||new x(2);b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);return b},floor:function(a,b){b=b||new x(2);b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);return b},round:function(a,b){b=b||
new x(2);b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);return b},clamp:function(a,b=0,c=1,d){d=d||new x(2);d[0]=Math.min(c,Math.max(b,a[0]));d[1]=Math.min(c,Math.max(b,a[1]));return d},add:function(a,b,c){c=c||new x(2);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},addScaled:function(a,b,c,d){d=d||new x(2);d[0]=a[0]+b[0]*c;d[1]=a[1]+b[1]*c;return d},angle:function(a,b){var c=a[0];const d=a[1],e=a[0],g=a[1];a=(c=Math.sqrt(c*c+d*d)*Math.sqrt(e*e+g*g))&&pa(a,b)/c;return Math.acos(a)},subtract:ma,sub:ma,equalsApproximately:function(a,
b){return Math.abs(a[0]-b[0])<u&&Math.abs(a[1]-b[1])<u},equals:function(a,b){return a[0]===b[0]&&a[1]===b[1]},lerp:function(a,b,c,d){d=d||new x(2);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);return d},lerpV:function(a,b,c,d){d=d||new x(2);d[0]=a[0]+c[0]*(b[0]-a[0]);d[1]=a[1]+c[1]*(b[1]-a[1]);return d},max:function(a,b,c){c=c||new x(2);c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);return c},min:function(a,b,c){c=c||new x(2);c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);return c},mulScalar:na,
scale:na,divScalar:function(a,b,c){c=c||new x(2);c[0]=a[0]/b;c[1]=a[1]/b;return c},inverse:oa,invert:oa,cross:function(a,b,c){c=c||new x(3);a=a[0]*b[1]-a[1]*b[0];c[0]=0;c[1]=0;c[2]=a;return c},dot:pa,length:qa,len:qa,lengthSq:ra,lenSq:ra,distance:sa,dist:sa,distanceSq:ta,distSq:ta,normalize:function(a,b){b=b||new x(2);const c=a[0];a=a[1];const d=Math.sqrt(c*c+a*a);1E-5<d?(b[0]=c/d,b[1]=a/d):(b[0]=0,b[1]=0);return b},negate:function(a,b){b=b||new x(2);b[0]=-a[0];b[1]=-a[1];return b},copy:ua,clone:ua,
multiply:va,mul:va,divide:wa,div:wa,random:function(a=1,b){b=b||new x(2);const c=2*Math.random()*Math.PI;b[0]=Math.cos(c)*a;b[1]=Math.sin(c)*a;return b},zero:function(a){a=a||new x(2);a[0]=0;a[1]=0;return a},transformMat4:function(a,b,c){c=c||new x(2);const d=a[0];a=a[1];c[0]=d*b[0]+a*b[4]+b[12];c[1]=d*b[1]+a*b[5]+b[13];return c},transformMat3:function(a,b,c){c=c||new x(2);const d=a[0];a=a[1];c[0]=b[0]*d+b[4]*a+b[8];c[1]=b[1]*d+b[5]*a+b[9];return c}});let ya=Float32Array;const za=new Map([[Float32Array,
()=>new Float32Array(12)],[Float64Array,()=>new Float64Array(12)],[Array,()=>Array(12).fill(0)]]);let E=za.get(Float32Array);var kb=Object.freeze({__proto__:null,setDefaultType:xa,create:function(a,b,c,d,e,g,f,k,l){const h=E();h[3]=0;h[7]=0;h[11]=0;void 0!==a&&(h[0]=a,void 0!==b&&(h[1]=b,void 0!==c&&(h[2]=c,void 0!==d&&(h[4]=d,void 0!==e&&(h[5]=e,void 0!==g&&(h[6]=g,void 0!==f&&(h[8]=f,void 0!==k&&(h[9]=k,void 0!==l&&(h[10]=l)))))))));return h},negate:function(a,b){b=b||E();b[0]=-a[0];b[1]=-a[1];
b[2]=-a[2];b[4]=-a[4];b[5]=-a[5];b[6]=-a[6];b[8]=-a[8];b[9]=-a[9];b[10]=-a[10];return b},copy:ia,clone:ia,equalsApproximately:function(a,b){return Math.abs(a[0]-b[0])<u&&Math.abs(a[1]-b[1])<u&&Math.abs(a[2]-b[2])<u&&Math.abs(a[4]-b[4])<u&&Math.abs(a[5]-b[5])<u&&Math.abs(a[6]-b[6])<u&&Math.abs(a[8]-b[8])<u&&Math.abs(a[9]-b[9])<u&&Math.abs(a[10]-b[10])<u},equals:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]},
identity:Aa,transpose:function(a,b){b=b||E();if(b===a){var c=a[1];a[1]=a[4];a[4]=c;c=a[2];a[2]=a[8];a[8]=c;c=a[6];a[6]=a[9];a[9]=c;return b}c=a[1];const d=a[2],e=a[4],g=a[5],f=a[6],k=a[8],l=a[9],h=a[10];b[0]=a[0];b[1]=e;b[2]=k;b[4]=c;b[5]=g;b[6]=l;b[8]=d;b[9]=f;b[10]=h;return b},inverse:Ba,determinant:function(a){const b=a[1],c=a[2],d=a[5],e=a[6],g=a[9],f=a[10];return a[0]*(d*f-g*e)-a[4]*(b*f-g*c)+a[8]*(b*e-d*c)},invert:Ba,multiply:Ca,mul:Ca,setTranslation:function(a,b,c){c=c||Aa();a!==c&&(c[0]=a[0],
c[1]=a[1],c[2]=a[2],c[4]=a[4],c[5]=a[5],c[6]=a[6]);c[8]=b[0];c[9]=b[1];c[10]=1;return c},getTranslation:function(a,b){b=b||X();b[0]=a[8];b[1]=a[9];return b},getAxis:function(a,b,c){c=c||X();b*=4;c[0]=a[b+0];c[1]=a[b+1];return c},setAxis:function(a,b,c,d){d!==a&&(d=ia(a,d));a=4*c;d[a+0]=b[0];d[a+1]=b[1];return d},getScaling:function(a,b){b=b||X();const c=a[0],d=a[1],e=a[4];a=a[5];b[0]=Math.sqrt(c*c+d*d);b[1]=Math.sqrt(e*e+a*a);return b},translation:function(a,b){b=b||E();b[0]=1;b[1]=0;b[2]=0;b[4]=
0;b[5]=1;b[6]=0;b[8]=a[0];b[9]=a[1];b[10]=1;return b},translate:function(a,b,c){c=c||E();const d=b[0];b=b[1];const e=a[0],g=a[1],f=a[2],k=a[4],l=a[5],h=a[6],n=a[8],m=a[9],q=a[10];a!==c&&(c[0]=e,c[1]=g,c[2]=f,c[4]=k,c[5]=l,c[6]=h);c[8]=e*d+k*b+n;c[9]=g*d+l*b+m;c[10]=f*d+h*b+q;return c},rotation:function(a,b){b=b||E();const c=Math.cos(a);a=Math.sin(a);b[0]=c;b[1]=a;b[2]=0;b[4]=-a;b[5]=c;b[6]=0;b[8]=0;b[9]=0;b[10]=1;return b},rotate:function(a,b,c){c=c||E();const d=a[0],e=a[1],g=a[2],f=a[4],k=a[5],l=
a[6],h=Math.cos(b);b=Math.sin(b);c[0]=h*d+b*f;c[1]=h*e+b*k;c[2]=h*g+b*l;c[4]=h*f-b*d;c[5]=h*k-b*e;c[6]=h*l-b*g;a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10]);return c},scaling:function(a,b){b=b||E();b[0]=a[0];b[1]=0;b[2]=0;b[4]=0;b[5]=a[1];b[6]=0;b[8]=0;b[9]=0;b[10]=1;return b},scale:function(a,b,c){c=c||E();const d=b[0];b=b[1];c[0]=d*a[0];c[1]=d*a[1];c[2]=d*a[2];c[4]=b*a[4];c[5]=b*a[5];c[6]=b*a[6];a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10]);return c}});let w=Float32Array;var lb=Object.freeze({__proto__:null,
create:T,setDefaultType:Da,fromValues:T,ceil:function(a,b){b=b||new w(3);b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);b[2]=Math.ceil(a[2]);return b},floor:function(a,b){b=b||new w(3);b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);b[2]=Math.floor(a[2]);return b},round:function(a,b){b=b||new w(3);b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);return b},clamp:function(a,b=0,c=1,d){d=d||new w(3);d[0]=Math.min(c,Math.max(b,a[0]));d[1]=Math.min(c,Math.max(b,a[1]));d[2]=Math.min(c,Math.max(b,
a[2]));return d},add:function(a,b,c){c=c||new w(3);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},addScaled:function(a,b,c,d){d=d||new w(3);d[0]=a[0]+b[0]*c;d[1]=a[1]+b[1]*c;d[2]=a[2]+b[2]*c;return d},angle:function(a,b){var c=a[0];const d=a[1],e=a[2],g=a[0],f=a[1],k=a[2];a=(c=Math.sqrt(c*c+d*d+e*e)*Math.sqrt(g*g+f*f+k*k))&&Ga(a,b)/c;return Math.acos(a)},subtract:ja,sub:ja,equalsApproximately:function(a,b){return Math.abs(a[0]-b[0])<u&&Math.abs(a[1]-b[1])<u&&Math.abs(a[2]-b[2])<u},equals:function(a,
b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]},lerp:function(a,b,c,d){d=d||new w(3);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);d[2]=a[2]+c*(b[2]-a[2]);return d},lerpV:function(a,b,c,d){d=d||new w(3);d[0]=a[0]+c[0]*(b[0]-a[0]);d[1]=a[1]+c[1]*(b[1]-a[1]);d[2]=a[2]+c[2]*(b[2]-a[2]);return d},max:function(a,b,c){c=c||new w(3);c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);return c},min:function(a,b,c){c=c||new w(3);c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=
Math.min(a[2],b[2]);return c},mulScalar:Ea,scale:Ea,divScalar:function(a,b,c){c=c||new w(3);c[0]=a[0]/b;c[1]=a[1]/b;c[2]=a[2]/b;return c},inverse:Fa,invert:Fa,cross:ka,dot:Ga,length:Ha,len:Ha,lengthSq:Ia,lenSq:Ia,distance:Ja,dist:Ja,distanceSq:Ka,distSq:Ka,normalize:Y,negate:function(a,b){b=b||new w(3);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},copy:La,clone:La,multiply:Ma,mul:Ma,divide:Na,div:Na,random:function(a=1,b){b=b||new w(3);const c=2*Math.random()*Math.PI,d=2*Math.random()-1,e=Math.sqrt(1-
d*d)*a;b[0]=Math.cos(c)*e;b[1]=Math.sin(c)*e;b[2]=d*a;return b},zero:function(a){a=a||new w(3);a[0]=0;a[1]=0;a[2]=0;return a},transformMat4:function(a,b,c){c=c||new w(3);const d=a[0],e=a[1];a=a[2];const g=b[3]*d+b[7]*e+b[11]*a+b[15]||1;c[0]=(b[0]*d+b[4]*e+b[8]*a+b[12])/g;c[1]=(b[1]*d+b[5]*e+b[9]*a+b[13])/g;c[2]=(b[2]*d+b[6]*e+b[10]*a+b[14])/g;return c},transformMat4Upper3x3:function(a,b,c){c=c||new w(3);const d=a[0],e=a[1];a=a[2];c[0]=d*b[0]+e*b[4]+a*b[8];c[1]=d*b[1]+e*b[5]+a*b[9];c[2]=d*b[2]+e*b[6]+
a*b[10];return c},transformMat3:function(a,b,c){c=c||new w(3);const d=a[0],e=a[1];a=a[2];c[0]=d*b[0]+e*b[4]+a*b[8];c[1]=d*b[1]+e*b[5]+a*b[9];c[2]=d*b[2]+e*b[6]+a*b[10];return c}});let y=Float32Array,U,V,S;var mb=Object.freeze({__proto__:null,setDefaultType:Oa,create:function(a,b,c,d,e,g,f,k,l,h,n,m,q,v,t,r){const p=new y(16);void 0!==a&&(p[0]=a,void 0!==b&&(p[1]=b,void 0!==c&&(p[2]=c,void 0!==d&&(p[3]=d,void 0!==e&&(p[4]=e,void 0!==g&&(p[5]=g,void 0!==f&&(p[6]=f,void 0!==k&&(p[7]=k,void 0!==l&&(p[8]=
l,void 0!==h&&(p[9]=h,void 0!==n&&(p[10]=n,void 0!==m&&(p[11]=m,void 0!==q&&(p[12]=q,void 0!==v&&(p[13]=v,void 0!==t&&(p[14]=t,void 0!==r&&(p[15]=r))))))))))))))));return p},negate:function(a,b){b=b||new y(16);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];b[4]=-a[4];b[5]=-a[5];b[6]=-a[6];b[7]=-a[7];b[8]=-a[8];b[9]=-a[9];b[10]=-a[10];b[11]=-a[11];b[12]=-a[12];b[13]=-a[13];b[14]=-a[14];b[15]=-a[15];return b},copy:la,clone:la,equalsApproximately:function(a,b){return Math.abs(a[0]-b[0])<u&&Math.abs(a[1]-
b[1])<u&&Math.abs(a[2]-b[2])<u&&Math.abs(a[3]-b[3])<u&&Math.abs(a[4]-b[4])<u&&Math.abs(a[5]-b[5])<u&&Math.abs(a[6]-b[6])<u&&Math.abs(a[7]-b[7])<u&&Math.abs(a[8]-b[8])<u&&Math.abs(a[9]-b[9])<u&&Math.abs(a[10]-b[10])<u&&Math.abs(a[11]-b[11])<u&&Math.abs(a[12]-b[12])<u&&Math.abs(a[13]-b[13])<u&&Math.abs(a[14]-b[14])<u&&Math.abs(a[15]-b[15])<u},equals:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&
a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]},identity:Pa,transpose:function(a,b){b=b||new y(16);if(b===a){var c=a[1];a[1]=a[4];a[4]=c;c=a[2];a[2]=a[8];a[8]=c;c=a[3];a[3]=a[12];a[12]=c;c=a[6];a[6]=a[9];a[9]=c;c=a[7];a[7]=a[13];a[13]=c;c=a[11];a[11]=a[14];a[14]=c;return b}c=a[1];const d=a[2],e=a[3],g=a[4],f=a[5],k=a[6],l=a[7],h=a[8],n=a[9],m=a[10],q=a[11],v=a[12],t=a[13],r=a[14],p=a[15];b[0]=a[0];b[1]=g;b[2]=h;b[3]=v;b[4]=c;b[5]=f;b[6]=n;b[7]=t;b[8]=d;b[9]=
k;b[10]=m;b[11]=r;b[12]=e;b[13]=l;b[14]=q;b[15]=p;return b},inverse:Qa,determinant:function(a){const b=a[1];var c=a[2],d=a[3];const e=a[5],g=a[6],f=a[7],k=a[9];var l=a[10],h=a[11];const n=a[13];var m=a[14],q=a[15];const v=l*q,t=m*h,r=g*q,p=m*f,A=g*h,B=l*f;q*=c;m*=d;h*=c;l*=d;c*=f;d*=g;return a[0]*(v*e+p*k+A*n-(t*e+r*k+B*n))+a[4]*(t*b+q*k+l*n-(v*b+m*k+h*n))+a[8]*(r*b+m*e+c*n-(p*b+q*e+d*n))+a[12]*(B*b+h*e+d*k-(A*b+l*e+c*k))},invert:Qa,multiply:Ta,mul:Ta,setTranslation:function(a,b,c){c=c||Pa();a!==
c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11]);c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c},getTranslation:function(a,b){b=b||T();b[0]=a[12];b[1]=a[13];b[2]=a[14];return b},getAxis:function(a,b,c){c=c||T();b*=4;c[0]=a[b+0];c[1]=a[b+1];c[2]=a[b+2];return c},setAxis:function(a,b,c,d){d!==a&&(d=la(a,d));a=4*c;d[a+0]=b[0];d[a+1]=b[1];d[a+2]=b[2];return d},getScaling:function(a,b){b=b||T();const c=a[0],d=a[1],e=a[2],
g=a[4],f=a[5],k=a[6],l=a[8],h=a[9];a=a[10];b[0]=Math.sqrt(c*c+d*d+e*e);b[1]=Math.sqrt(g*g+f*f+k*k);b[2]=Math.sqrt(l*l+h*h+a*a);return b},perspective:function(a,b,c,d,e){e=e||new y(16);a=Math.tan(.5*Math.PI-.5*a);const g=1/(c-d);e[0]=a/b;e[1]=0;e[2]=0;e[3]=0;e[4]=0;e[5]=a;e[6]=0;e[7]=0;e[8]=0;e[9]=0;e[10]=d*g;e[11]=-1;e[12]=0;e[13]=0;e[14]=c*d*g;e[15]=0;return e},ortho:function(a,b,c,d,e,g,f){f=f||new y(16);f[0]=2/(b-a);f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2/(d-c);f[6]=0;f[7]=0;f[8]=0;f[9]=0;f[10]=1/(e-
g);f[11]=0;f[12]=(b+a)/(a-b);f[13]=(d+c)/(c-d);f[14]=e/(e-g);f[15]=1;return f},frustum:function(a,b,c,d,e,g,f){f=f||new y(16);const k=b-a,l=d-c,h=e-g;f[0]=2*e/k;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=2*e/l;f[6]=0;f[7]=0;f[8]=(a+b)/k;f[9]=(d+c)/l;f[10]=g/h;f[11]=-1;f[12]=0;f[13]=0;f[14]=e*g/h;f[15]=0;return f},lookAt:function(a,b,c,d){d=d||new y(16);U=U||T();V=V||T();S=S||T();Y(ja(a,b,S),S);Y(ka(c,S,U),U);Y(ka(S,U,V),V);d[0]=U[0];d[1]=U[1];d[2]=U[2];d[3]=0;d[4]=V[0];d[5]=V[1];d[6]=V[2];d[7]=0;d[8]=S[0];
d[9]=S[1];d[10]=S[2];d[11]=0;d[12]=a[0];d[13]=a[1];d[14]=a[2];d[15]=1;return d},translation:function(a,b){b=b||new y(16);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=a[0];b[13]=a[1];b[14]=a[2];b[15]=1;return b},translate:function(a,b,c){c=c||new y(16);const d=b[0],e=b[1];b=b[2];const g=a[0],f=a[1],k=a[2],l=a[3],h=a[4],n=a[5],m=a[6],q=a[7],v=a[8],t=a[9],r=a[10],p=a[11],A=a[12],B=a[13],C=a[14],D=a[15];a!==c&&(c[0]=g,c[1]=f,c[2]=k,c[3]=l,c[4]=h,c[5]=n,c[6]=
m,c[7]=q,c[8]=v,c[9]=t,c[10]=r,c[11]=p);c[12]=g*d+h*e+v*b+A;c[13]=f*d+n*e+t*b+B;c[14]=k*d+m*e+r*b+C;c[15]=l*d+q*e+p*b+D;return c},rotationX:function(a,b){b=b||new y(16);const c=Math.cos(a);a=Math.sin(a);b[0]=1;b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=c;b[6]=a;b[7]=0;b[8]=0;b[9]=-a;b[10]=c;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},rotateX:function(a,b,c){c=c||new y(16);const d=a[4],e=a[5],g=a[6],f=a[7],k=a[8],l=a[9],h=a[10],n=a[11],m=Math.cos(b);b=Math.sin(b);c[4]=m*d+b*k;c[5]=m*e+b*l;c[6]=m*g+b*h;
c[7]=m*f+b*n;c[8]=m*k-b*d;c[9]=m*l-b*e;c[10]=m*h-b*g;c[11]=m*n-b*f;a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c},rotationY:function(a,b){b=b||new y(16);const c=Math.cos(a);a=Math.sin(a);b[0]=c;b[1]=0;b[2]=-a;b[3]=0;b[4]=0;b[5]=1;b[6]=0;b[7]=0;b[8]=a;b[9]=0;b[10]=c;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},rotateY:function(a,b,c){c=c||new y(16);const d=a[0],e=a[1],g=a[2],f=a[3],k=a[8],l=a[9],h=a[10],n=a[11],m=Math.cos(b);b=Math.sin(b);
c[0]=m*d-b*k;c[1]=m*e-b*l;c[2]=m*g-b*h;c[3]=m*f-b*n;c[8]=m*k+b*d;c[9]=m*l+b*e;c[10]=m*h+b*g;c[11]=m*n+b*f;a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c},rotationZ:function(a,b){b=b||new y(16);const c=Math.cos(a);a=Math.sin(a);b[0]=c;b[1]=a;b[2]=0;b[3]=0;b[4]=-a;b[5]=c;b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=1;b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},rotateZ:function(a,b,c){c=c||new y(16);const d=a[0],e=a[1],g=a[2],f=a[3],k=a[4],l=a[5],
h=a[6],n=a[7],m=Math.cos(b);b=Math.sin(b);c[0]=m*d+b*k;c[1]=m*e+b*l;c[2]=m*g+b*h;c[3]=m*f+b*n;c[4]=m*k-b*d;c[5]=m*l-b*e;c[6]=m*h-b*g;c[7]=m*n-b*f;a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c},axisRotation:Ua,rotation:Ua,axisRotate:Va,rotate:Va,scaling:function(a,b){b=b||new y(16);b[0]=a[0];b[1]=0;b[2]=0;b[3]=0;b[4]=0;b[5]=a[1];b[6]=0;b[7]=0;b[8]=0;b[9]=0;b[10]=a[2];b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},scale:function(a,b,
c){c=c||new y(16);const d=b[0],e=b[1];b=b[2];c[0]=d*a[0];c[1]=d*a[1];c[2]=d*a[2];c[3]=d*a[3];c[4]=e*a[4];c[5]=e*a[5];c[6]=e*a[6];c[7]=e*a[7];c[8]=b*a[8];c[9]=b*a[9];c[10]=b*a[10];c[11]=b*a[11];a!==c&&(c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}});let z=Float32Array;var nb=Object.freeze({__proto__:null,setDefaultType:Wa,create:Xa,fromValues:Xa,ceil:function(a,b){b=b||new z(4);b[0]=Math.ceil(a[0]);b[1]=Math.ceil(a[1]);b[2]=Math.ceil(a[2]);b[3]=Math.ceil(a[3]);return b},floor:function(a,
b){b=b||new z(4);b[0]=Math.floor(a[0]);b[1]=Math.floor(a[1]);b[2]=Math.floor(a[2]);b[3]=Math.floor(a[3]);return b},round:function(a,b){b=b||new z(4);b[0]=Math.round(a[0]);b[1]=Math.round(a[1]);b[2]=Math.round(a[2]);b[3]=Math.round(a[3]);return b},clamp:function(a,b=0,c=1,d){d=d||new z(4);d[0]=Math.min(c,Math.max(b,a[0]));d[1]=Math.min(c,Math.max(b,a[1]));d[2]=Math.min(c,Math.max(b,a[2]));d[3]=Math.min(c,Math.max(b,a[3]));return d},add:function(a,b,c){c=c||new z(4);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=
a[2]+b[2];c[3]=a[3]+b[3];return c},addScaled:function(a,b,c,d){d=d||new z(4);d[0]=a[0]+b[0]*c;d[1]=a[1]+b[1]*c;d[2]=a[2]+b[2]*c;d[3]=a[3]+b[3]*c;return d},subtract:Ya,sub:Ya,equalsApproximately:function(a,b){return Math.abs(a[0]-b[0])<u&&Math.abs(a[1]-b[1])<u&&Math.abs(a[2]-b[2])<u&&Math.abs(a[3]-b[3])<u},equals:function(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]},lerp:function(a,b,c,d){d=d||new z(4);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);d[2]=a[2]+c*(b[2]-a[2]);d[3]=
a[3]+c*(b[3]-a[3]);return d},lerpV:function(a,b,c,d){d=d||new z(4);d[0]=a[0]+c[0]*(b[0]-a[0]);d[1]=a[1]+c[1]*(b[1]-a[1]);d[2]=a[2]+c[2]*(b[2]-a[2]);d[3]=a[3]+c[3]*(b[3]-a[3]);return d},max:function(a,b,c){c=c||new z(4);c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);c[3]=Math.max(a[3],b[3]);return c},min:function(a,b,c){c=c||new z(4);c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);c[3]=Math.min(a[3],b[3]);return c},mulScalar:Za,scale:Za,divScalar:function(a,
b,c){c=c||new z(4);c[0]=a[0]/b;c[1]=a[1]/b;c[2]=a[2]/b;c[3]=a[3]/b;return c},inverse:$a,invert:$a,dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},length:ab,len:ab,lengthSq:bb,lenSq:bb,distance:cb,dist:cb,distanceSq:db,distSq:db,normalize:function(a,b){b=b||new z(4);const c=a[0],d=a[1],e=a[2];a=a[3];const g=Math.sqrt(c*c+d*d+e*e+a*a);1E-5<g?(b[0]=c/g,b[1]=d/g,b[2]=e/g,b[3]=a/g):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b},negate:function(a,b){b=b||new z(4);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];
b[3]=-a[3];return b},copy:eb,clone:eb,multiply:fb,mul:fb,divide:gb,div:gb,zero:function(a){a=a||new z(4);a[0]=0;a[1]=0;a[2]=0;a[3]=0;return a},transformMat4:function(a,b,c){c=c||new z(4);const d=a[0],e=a[1],g=a[2];a=a[3];c[0]=b[0]*d+b[4]*e+b[8]*g+b[12]*a;c[1]=b[1]*d+b[5]*e+b[9]*g+b[13]*a;c[2]=b[2]*d+b[6]*e+b[10]*g+b[14]*a;c[3]=b[3]*d+b[7]*e+b[11]*g+b[15]*a;return c}});H.mat3=kb;H.mat4=mb;H.setDefaultType=function(a){xa(a);Oa(a);W(a);Da(a);Wa(a)};H.types=hb;H.utils=ib;H.vec2=jb;H.vec3=lb;H.vec4=nb});
